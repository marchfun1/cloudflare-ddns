# 更新記錄 (Changelog)

所有本專案的顯著變更都將記錄在此檔案中。

## [3.0.0] - 2024-12-31

### 🚀 新增功能

- **設定分離**：引入 `ddns.conf` 設定檔，將程式邏輯與使用者設定完全分離。
- **多供應商備援 (Failover)**：`fetch_ip` 現在支援 4 組 IP 來源 (ident.me, ipify.org, ip.sb, icanhazip.com)，降低因單一服務停機導致更新失敗的機率。
- **日誌自動管理 (Log Rotation)**：新增 `max_log_size` 檢查，當日誌檔案超過限制（預設 1MB）時自動清理舊紀錄。
- **多語言支持**：提供繁體中文、簡體中文及英文三種版本的 README。

### 🛠️ 優化與改進

- **獨立快取機制**：針對 A 與 AAAA 紀錄使用獨立的 IP 快取檔案，修復雙標籤同步時的判定 bug。
- **正則表達式增強**：改進 IPv4 與 IPv6 的抓取過濾邏輯，避免獲取到非有效的 IP 內容。
- **強健性提升**：腳本改用 `set -euo pipefail` 嚴格模式，增加錯誤攔截與 API 回應解析。
- **README 重構**：全新設計的 README 版面，加入功能表格、快速開始指南及專業 Badge。

### ⚖️ 授權變更

- 授權條款從 MIT 遷移至 **GPL-3.0**。

---

## [2.0.0] - 2024-11-25

### ✨ 改進

- 支援 Cloudflare API Token 代替原始的 Global API Key（更安全）。
- 支援 IPv4 A 記錄與 IPv6 AAAA 記錄更新。
- 支援兩組網域同步更新。
- 加入基礎的日誌記錄與依賴檢查。

---

## [1.0.0] - 原版

- 初始版本修改自 `wherelse/cloudflare-ddns-script`。
